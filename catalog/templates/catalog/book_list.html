{% extends 'base_generic.html' %}

{% block title %}
All books
{% endblock title %}


{% block heading %}
Book List ({{ books_count }})
{% endblock heading %}

{% block content %}

{% if perms.catalog.add_book %}
<a href="{% url 'book_create' %}" class="btn my-btn">Add a Book</a>
{% endif %}

<hr>
<div class="row">

  {% for book in book_list %}
  <div class="col-md-6">
    <div class="card mb-3">
      <div class="card-header text-light bg-dark">
        <a href="{% url 'book-detail' book.pk %}">
          <h3 class="text-light">{{ book.title }}</h3>
        </a>
        <p class="text-muted">Author: {{ book.author }}</p>
        <div class="d-flex justify-content-end">
          {% if perms.catalog.change_book %}
          <a href="{% url 'book_update' book.pk %}">{% include '../update_button.html' %}</a>
          {% endif %}
          {% if perms.catalog.delete_book %}
          <a href="{% url 'book_delete' book.pk %}">{% include 'delete_button.html' %}</a>
          {% endif %}
        </div>
      </div>
      <div class="card-body">
        <p class="card-text">
        <ul>
          <li>Summary: {{ book.summary }}</li>
          <li>ISBN: {{ book.isbn }}</li>
          <li>Genre: {{ book.display_genre }}</li>
          <li>Language: {{ book.language.get_name_display }}</li>
        </ul>
        </p>
      </div>
    </div>
  </div>


  {% endfor %}
</div>


{% endblock content %}